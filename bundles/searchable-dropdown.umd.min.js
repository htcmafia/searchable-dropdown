!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/forms")):"function"==typeof define&&define.amd?define("searchable-dropdown",["exports","@angular/core","@angular/common","@angular/forms"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["searchable-dropdown"]={},e.ng.core,e.ng.common,e.ng.forms)}(this,(function(e,t,o,n){"use strict";var i=function(){};i.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new i},token:i,providedIn:"root"}),i.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],i.ctorParameters=function(){return[]};var r=function(){function e(){this.onStart=new t.EventEmitter,this.onOpen=new t.EventEmitter,this.keyChange=new t.EventEmitter,this.valueChange=new t.EventEmitter,this.placeHolder="",this.onSearch=new t.EventEmitter,this.itemsToShow=[],this.showItemList=!1,this.isListLoading=!1,this.addNewItem=!1,this.isItemSelected=!1,this.isFocusInsideComponent=!1,this.isComponentClicked=!1}return e.prototype.ngOnInit=function(){this.defaultItem&&this.addItem(this.defaultItem.key,this.defaultItem.value),this.onStart.emit(this)},e.prototype.onItemClick=function(e){this.value=this.itemsToShow[e].value,this.key=this.itemsToShow[e].key,this.value=this.itemsToShow[e].value,this.keyChange.emit(this.key),this.valueChange.emit(this.value),this.isItemSelected=!0},e.prototype.searchList=function(){var e=this;this.searchListTimeOut&&clearTimeout(this.searchListTimeOut),this.searchListTimeOut=setTimeout((function(){e.onSearch.emit(e.value)}),500)},e.prototype.addItem=function(e,t){this.itemsToShow.push({key:e,value:t}),this.value=t,this.key=e,this.keyChange.emit(this.key)},e.prototype.showAddNewItemSection=function(){this.addNewItem=!this.addNewItem},e.prototype.clickInside=function(){this.showItemList||this.onOpen.emit(null),this.showItemList=!0,this.isFocusInsideComponent=!0,this.isComponentClicked=!0,this.isItemSelected&&(this.isItemSelected=!1,this.isFocusInsideComponent=!1,this.clickout())},e.prototype.clickout=function(){var e=this;if(!this.isFocusInsideComponent&&this.isComponentClicked){this.showItemList=!1,this.isComponentClicked=!1;var t=!1;this.itemsToShow.filter((function(o){if(null!=e.value&&o.value.toString().toLowerCase()==e.value.toString().toLowerCase())return e.value=o.value,e.key=o.key,e.value=o.value,e.keyChange.emit(e.key),e.valueChange.emit(e.value),void(t=!0)})),t||(this.value="")}this.isFocusInsideComponent=!1},e.prototype.handleKeyboardEvent=function(e){this.showItemList=!1,this.isComponentClicked=!1},e}();r.decorators=[{type:t.Component,args:[{selector:"app-searchable-dropdown",template:'<div class="search-area">\r\n  <input #input type="text" [(ngModel)]="value" class="search" (keyup)="searchList()" [placeholder]="placeHolder">\r\n  <i class="fa fa-sort-down"></i>\r\n  <div class="drop-down" [ngClass]="(showItemList)? \'drop-down-open\': \'drop-down-close\'">\r\n    <div class="list" *ngIf="!addNewItem">\r\n      <a href="javascript:void(0)" class="plus-icon" (click)="showAddNewItemSection()"><i class="fa fa-plus"\r\n          aria-hidden="true"></i>Add New</a>\r\n      <p id="{{item.key}}" *ngFor="let item of itemsToShow; let i = index" (click)="onItemClick(i)">{{item.value}}</p>\r\n      <p *ngIf="itemsToShow.length < 1 && !isListLoading" class="not-found">Not Found</p>\r\n\r\n      <div class="loading" *ngIf="isListLoading">\r\n        <div class="spinner-border"></div>\r\n        <span>Loading...</span>\r\n      </div>\r\n    </div>\r\n\r\n    <ng-container *ngIf="addNewItem">\r\n      <ng-content class="add-new-section">\r\n\r\n      </ng-content>\r\n    </ng-container>\r\n\r\n  </div>\r\n\r\n</div>\r\n',styles:[".search-area{position:relative}.search-area i.fa-sort-down{pointer-events:none;position:absolute;right:5%;top:25%}.search{background:#fff;border:1px solid #ccc;border-radius:5px;color:#5c6873;cursor:default;font-size:.875rem;padding:.375rem .75rem;position:relative;width:100%}.search:focus{background-color:#fff;border-color:#8ad4ee;box-shadow:0 0 0 .2rem rgba(32,168,216,.25);color:#5c6873;cursor:text;outline:0}.list{overflow-x:hidden}.drop-down{background-color:#fff;border:1px solid #ccc;box-sizing:border-box;max-height:200px!important;overflow-x:visible;overflow-y:scroll;padding:0 0 5px;position:absolute;width:100%;z-index:999}.drop-down p{margin:0;padding:7px 10px}.drop-down p:hover{background-color:#5353f5;color:#fff}.drop-down .not-found{color:grey;font-weight:700;padding:0}.drop-down .not-found:hover{background-color:inherit;color:grey}.drop-down-open{display:block}.drop-down-close{display:none}.spinner-border{height:1.5rem;width:1.5rem}.plus-icon{background-color:#fff;border-bottom:1px solid #ccc;color:#000;float:left;margin-bottom:5px;padding:5px 10px;text-align:left;text-decoration:none;width:100%}.plus-icon i{margin-right:5px}"]}]}],r.ctorParameters=function(){return[]},r.propDecorators={onStart:[{type:t.Output}],onOpen:[{type:t.Output}],key:[{type:t.Input}],keyChange:[{type:t.Output}],value:[{type:t.Input}],valueChange:[{type:t.Output}],placeHolder:[{type:t.Input}],onSearch:[{type:t.Output}],defaultItem:[{type:t.Input}],clickInside:[{type:t.HostListener,args:["click"]}],clickout:[{type:t.HostListener,args:["document:click"]}],handleKeyboardEvent:[{type:t.HostListener,args:["window:keyup.enter",["$event"]]}]};var s=function(){};s.decorators=[{type:t.NgModule,args:[{declarations:[r],imports:[o.CommonModule,n.FormsModule],exports:[r,o.CommonModule,n.FormsModule]}]}],e.SearchableDropdownComponent=r,e.SearchableDropdownModule=s,e.SearchableDropdownService=i,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=searchable-dropdown.umd.min.js.map